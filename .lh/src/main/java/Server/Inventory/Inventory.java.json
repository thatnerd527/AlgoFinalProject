{
    "sourceFile": "src/main/java/Server/Inventory/Inventory.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1701872647594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1701873130025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n                             break;\r\n                         }\r\n                     }\r\n                     continue;\r\n-                case \"3\":dasasaad\r\n+                case \"3\":\r\n                     while (true) {\r\n                         HashMap<String, String> result = new InputForm(wR, wW)\r\n                                 .withField(\"Name\",true)\r\n                                 .withField(\"Description\", true)\r\n"
                }
            ],
            "date": 1701872647594,
            "name": "Commit-0",
            "content": "package Server.Inventory;\r\n\r\nimport java.time.Instant;\r\nimport java.util.HashMap;\r\nimport java.util.Optional;\r\n\r\nimport Material.Material;\r\nimport Material.MaterialBuilder;\r\nimport Server.WrappedReader;\r\nimport Server.WrappedWriter;\r\nimport UI.InputForm;\r\nimport UI.Menu;\r\nimport UI.Table;\r\n\r\npublic class Inventory {\r\n    public static void HandleInventory(WrappedReader wR, WrappedWriter wW) {\r\n        while (true) {\r\n            String action = new Menu().withTitle(\"Main Menu\")\r\n                    .withChoice(\"1\", \"Show currently in stock items.\")\r\n                    .withChoice(\"2\", \"Add new item from template ID\")\r\n                    .withChoice(\"3\", \"Add new item type to templates\")\r\n                    .withChoice(\"4\", \"Add custom item\")\r\n                    .withChoice(\"b\", \"Back\")\r\n                    .makeASelection(wW, wR);\r\n\r\n            switch (action) {\r\n                case \"1\":\r\n                    Table table = new Table();\r\n                    table.addColumnNames(\r\n                            \"Material ID\", \"Name\",\r\n                            \"Description\",\r\n                            \"Search tags\",\r\n                            \"Value per Quantity\",\r\n                            \"Quantity\",\r\n                            \"Life span start\",\r\n                            \"Life span end\");\r\n                    Server.Server.currentlystored.materialsSub().forEach(x -> {\r\n                        table.addRow(\r\n                                x.MaterialID().toString(),\r\n                                x.name,\r\n                                x.description,\r\n                                x.tags.toString(),\r\n                                ((Double) x.valuePerQty).toString(),\r\n                                ((Double) x.quantity).toString(),\r\n                                x.lifespanStart.toString(),\r\n                                x.lifespanStart.plusSeconds(x.lifespanInSeconds).toString());\r\n                    });\r\n                    continue;\r\n                case \"2\":\r\n                    while (true) {\r\n                        HashMap<String, String> result = new InputForm(wR, wW)\r\n                                .withField(\"Template ID\", true)\r\n                                .withField(\"Quantity\", true)\r\n                                .withTitle(\"Add item to stock by ID\")\r\n                                .receiveInput();\r\n                        Optional<Material> findmat = Server.Server.templatematerials.materialsSub().stream()\r\n                                .filter((Material mat) -> {\r\n                                    return result.get(\"Template ID\").equals(mat.MaterialID());\r\n                                }).findFirst();\r\n                        if (!findmat.isPresent()) {\r\n                            wW.write(\"That Template ID is not present in the database.\\n\");\r\n                            continue;\r\n                        } else {\r\n                            try {\r\n                                Double.valueOf(result.get(\"Quantity\"));\r\n                            } catch (Exception e) {\r\n                                wW.write(\"Invalid Quantity value.\\n\");\r\n                                continue;\r\n                            }\r\n                            findmat.get().quantity += Double.valueOf(result.get(\"Quantity\"));\r\n                            Server.Server.currentlystored.addMaterial(findmat.get());\r\n                            wW.write(\"Added material.\\n\");\r\n                            break;\r\n                        }\r\n                    }\r\n                    continue;\r\n                case \"3\":dasasaad\r\n                    while (true) {\r\n                        HashMap<String, String> result = new InputForm(wR, wW)\r\n                                .withField(\"Name\",true)\r\n                                .withField(\"Description\", true)\r\n                                .withField(\"Differentiator (optional)\", false)\r\n                                .withField(\"Value per Qty\", true)\r\n                                .withField(\"Quantity (above 0)\", true)\r\n                                .withField(\"Custom value (optional)\", false)\r\n                                .withTitle(\"Add item to stock by ID\")\r\n                                .receiveInput();\r\n                        MaterialBuilder builder = new MaterialBuilder()\r\n                        .withName(\"\")\r\n                        .withDescription(\"\")\r\n                        .withDifferentiator(\"\")\r\n                        .withValuePerQty(1)\r\n                        .withQuantity(11)\r\n                        .withLifespanStart(Instant.now())\r\n                                .withLifespanSeconds(23132);\r\n                                break;\r\n\r\n                    }\r\n                    continue;\r\n                case \"4\":\r\n\r\n                    continue;\r\n\r\n                case \"b\":\r\n                    break;\r\n\r\n                default:\r\n                    continue;\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}\r\n"
        }
    ]
}